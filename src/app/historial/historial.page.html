<ion-header>
  <ion-toolbar class="toolbar-header">
    <!-- Botón de WhatsApp -->
    <ion-buttons slot="start">
      <ion-button fill="clear" href="https://wa.me/message/2KD322Q6H5KUG1" target="_blank" class="whatsapp-button">
        <ion-icon name="logo-whatsapp" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>

    <!-- Título del encabezado -->
    <ion-title class="app-title">HISTORIAL</ion-title>

    <!-- Botón de volver -->
    <ion-buttons slot="end">
      <ion-button fill="clear" (click)="goBack()" class="goback-button">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Mensaje destacado debajo del título -->
  <div class="highlight-banner">
    <p class="highlight-text">¡Revisa tus pedidos anteriores fácilmente!</p>
  </div>

  <!-- Listado de Pedidos -->
  <ion-card *ngFor="let pedido of pedidos" class="promo-card">
    <!-- Encabezado del Pedido -->
    <ion-card-header>
      <ion-card-title>Pedido #{{ pedido.id }}</ion-card-title>
    </ion-card-header>

    <!-- Contenido del Pedido -->
    <ion-card-content>
      <p class="order-date">Fecha: {{ pedido.fecha }}</p>
      <p class="order-status">Estado: <strong>{{ pedido.estado }}</strong></p>
      <div class="products-list">
        <div *ngFor="let producto of pedido.productos" class="product-item">
          <span>{{ producto.nombre }} x{{ producto.cantidad }}</span>
          <span>CLP{{ producto.precio | number }}</span>
        </div>
      </div>
      <div class="price-container">
        <p class="price-value">Total: CLP{{ pedido.total | number }}</p>
      </div>

      <!-- Botón Repetir Pedido -->
      <button class="promo-button" (click)="repetirPedido(pedido.id)">Repetir Pedido</button>
    </ion-card-content>
  </ion-card>
</ion-content>
