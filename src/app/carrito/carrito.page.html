<ion-header>
  <ion-toolbar>
    <!-- Botón de WhatsApp a la izquierda -->
    <ion-buttons slot="start">
      <ion-button fill="clear" color="primary" href="https://wa.me/message/2KD322Q6H5KUG1" target="_blank">
        <ion-icon name="logo-whatsapp" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>

    <!-- Título centrado -->
    <ion-title>Carrito de Compras</ion-title>
      <!-- Botones a la derecha -->
    <ion-buttons slot="end">
      <!-- Botón para catálogo -->
      <ion-button routerLink="/menu" fill="clear" color="primary">
        <ion-icon name="list-outline" slot="icon-only"></ion-icon>
      </ion-button>      
      <!-- Botón para volver atras -->
      <ion-button fill="clear" (click)="goBack()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <!-- Mostrar cuando el carrito está vacío -->
  <div *ngIf="cartItems.length === 0" class="empty-cart ion-text-center">
    <ion-icon name="cart-outline" size="large"></ion-icon>
    <p>Tu carrito está vacío</p>
  </div>

  <!-- Lista de productos en el carrito -->
  <ion-list *ngIf="cartItems.length > 0">
    <ion-item *ngFor="let item of cartItems">
      <!-- Imagen del producto -->
      <ion-thumbnail slot="start">
        <img [src]="item.imageUrl" [alt]="item.name" />
      </ion-thumbnail>

      <!-- Detalles del producto -->
      <ion-label>
        <h2>{{ item.name }}</h2>
        <p>Cantidad: {{ item.quantity }}</p>
        <p>Precio unitario: ${{ item.price }}</p>
        <p>Total: ${{ item.totalPrice }}</p>
      </ion-label>

      <!-- Botón para eliminar producto -->
      <ion-button color="danger" fill="clear" (click)="removeFromCart(item.name)">
        <ion-icon name="trash-outline"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-list>

  <!-- Total general del carrito -->
  <div *ngIf="cartItems.length > 0" class="cart-total ion-text-center ion-padding">
    <h2>Total del Carrito: ${{ cartTotal }}</h2>
  </div>

  <!-- Botón para proceder al pago -->
  <div *ngIf="cartItems.length > 0" class="ion-padding">
    <ion-button expand="block" color="success" (click)="checkout()">
      Proceder al Pago
    </ion-button>
  </div>
</ion-content>
